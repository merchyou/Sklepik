using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Shop
{
    class Program
    {
        static void Main(string[] args)
        {
            float ShopEarnings = 0;

            Users Users = new Users();
            Base ShopBase = new Base();
            Base Basket = new Base();
        


            User UserLogedIn = Users.Login();

            while(true)
            {
                Users.ShowUserOptions();
                int userChoice = Convert.ToInt32(Console.ReadLine());
                switch (userChoice)
                {
                    case 1:
                        { //add product to the base
                            if (UserLogedIn.Status == "admin")
                            {
                                ShopBase.AddProduct(ShopBase.CreateProductForAdding());
                            }
                            else
                            {
                                Console.WriteLine("You need to be an administrator to operate on base.");
                            }

                                break;
                        }
                    case 2:
                         {//Remove product from base
                            if (UserLogedIn.Status == "admin")
                            {
                                int _id;
                                Console.WriteLine("Id of product to remove: ");
                                _id = Convert.ToInt32(Console.ReadLine());
                                ShopBase.RemoveProduct(_id);
                            }
                            else
                            {
                                Console.WriteLine("You need to be loged as an administrator to operate on base.");
                            }

                            break;
                        }

                    case 3:
                        { //Show All products in base
                            ShopBase.WriteProducts();
                            break;
                        }

                    case 4:
                        { // Add product to a basket
                            int _id;
                            Console.WriteLine("Id of product: ");
                            _id = Convert.ToInt32(Console.ReadLine());
                            Basket.AddProduct(ShopBase.SearchForProduct(_id));
                            break;
                        }
                        case 9:
                        {
                            Users.Register();
                            break;
                        }
                    case 10:
                        {
                            UserLogedIn = Users.Login();
                            break;
                        }
                }
            }

        }

            
        
    }
}
